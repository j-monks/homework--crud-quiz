# CRUD Quiz

Use the solution to this afternoon's Property Tracker lab to answer the following questions. Please write your answers under each question, push the file to GitHub, and submit in the usual way.

## MVP Questions

In our Property Tracker application:

Q1. Where are we instantiating instances of the `Property` class?
<!-- Inside the console.rb file e.g property1 = Property.new( {"addre... -->

Q2. Where are we defining the SQL that enables us to save the ruby `Property` object into the database?
<!-- In the properties.rb file and doing so with the "def save()" & the actual SQL command we are using inside the function is "INSERT INTO properties (address, value, bedrooms, year)
        VALUES ($1, $2, $3, $4) RETURNING id". -->

Q3. In `console.rb`, which lines modify the database?
<!-- Line 4, 13, 22, 31, 33. -->

Q4. Why do we not define the id of a `Property` object at the point we instantiate it (‘new it up’)?
<!-- That would mean we would near to keep track of how many id's there were, we write 'SERIAL' when creating the table model so that database generates id's for us and prevent duplicate id's. -->

Q5. Where and how do we assign the id (that is generated by the database) to the ruby `Property` object?
<!-- I think it's on line 32 in the property.rb file? e.g @id = db.exec_prepared("save", values)[0]["id"].to_i
I'm not 100% sure how this works yet but, I think when you are passing the prepared statement and its executed, a new instance of id is being added to it the new entry? -->

Q6. Why do we put a guard (an `if` clause) on the `@id` attribute in the constructor?
<!-- I believe this is similar to ;DROP TABLE IF EXISTS' but with id's instead? so create an id, if this id doesn't already exist? -->

Q7. Why are some of the CRUD actions represented by instance methods, and others by class methods?
<!-- Class methods seem to be when you want to query the entire table or database e.g Property.delete_all() because the property class has access to all instances that have been entered into the database, while instance methods seem to be when you want to manipulate individual instances/rows or make individual queries. -->


Q8. What type of data structure is returned by calls to `db.exec_prepared()`? In the `save` method, how do we access the id from the returned data structure?
<!-- It's an array type object that is returned but, from what I remember being mentioned it's actually the entry or database as an object? but it acts like an array? -->

Q9. Why do we use prepared statements when performing database operations?
<!-- Safeguards against SQL injection attacks and so we could make multiple queries quicker by just having to swap out certain criteria.-->

## Extension Questions

Look at the `find_by_id` and `find_by_address` methods in the `Property` class.

Q10. What do they take in as their arguments?
<!-- The parameters that are being passed in are 'id' which are then being passed into the values variable within the methods and then switched with the placeholders e.g $1 => id when the db.exec_prepared executes.

in the console.rb the arguments being passed in are the actual instances themselves with the appended id or address e.g property2.id as in the real world you wouldn't pass in the id itself as you probably wouldn't know it. -->

Q11. What are their return values?
<!-- They both return a new instance of the property class with the property hash being passed in which in itself is essentially an already made instance of the property class but just in hash format. If nothing is found from the query the method returns nil. -->
